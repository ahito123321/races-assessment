<template>
    <div class="main-div-container">
        <div class="a-container">
            <lightning-layout>
                <lightning-layout-item vertical-align="stretch">
                    <lightning-avatar class="registration-wizzard" src="https://artembubnov-dev-ed--c.visualforce.com/resource/1558515787000/RegistrationWizzard" size="large" alternative-text="regestration-wizzard-img"></lightning-avatar>
                </lightning-layout-item>

                <lightning-layout-item>
                    <p class="registretion-wizard-tittle">Registration wizard</p>
                </lightning-layout-item>
            </lightning-layout> 
            <h1 class="user-nick" id="customer-name">User nickName</h1>      
        </div>

        <div>
            <lightning-layout horizontal-align="spread">
                <lightning-layout-item padding="around-small">
                        <div class="slds-text-body_regular">Registration details</div>
                </lightning-layout-item>

                <lightning-layout-item class="buttons-style">
                    <lightning-button variant="brand" label="Save" title="Save" class="slds-m-left_x-small"></lightning-button>
                    <lightning-button variant="destructive" label="Cancel" title="Cancel"  class="slds-m-left_x-small"></lightning-button>
                </lightning-layout-item>
                
                <lightning-layout-item>
                        <div class="slds-p-around_medium lgc-bg">
                                <lightning-button-menu alternative-text="Show menu">
                                    <lightning-menu-item onclick={openModals} data-name="bShowModal" value="Create new Registration" label="Create new Registration"></lightning-menu-item>
                                </lightning-button-menu>
                            </div>
                </lightning-layout-item>
            </lightning-layout>
        </div>

        <div>
            <p class="registration-information">Registration information</p>
        </div>

        <div class="c-container">
            <lightning-layout horizontal-align="spread">
                <lightning-layout-item padding="around-small">
                   
                    <div class="custom-box"><abbr title="required" class="slds-required">*</abbr>Registration Name</div>
                    <div class="custom-box"><abbr title="required" class="slds-required">*</abbr>Contact</div>
                    <div class="custom-box"><abbr title="required" class="slds-required">*</abbr>Arrival Date</div>
                </lightning-layout-item>

                

                <lightning-layout-item padding="around-small">
                    
                    <lightning-input name="inpunRegName" lable="Registration Name" value={selectedContactForInput}></lightning-input>
                    
                        
                            <lightning-input class="slds-m-bottom_small" data-name="PopUpContactSelector" aria-autocomplete="false"
                                        value = {secondselectedContactForInput}
                                        onclick = {openModals}
                                        onchange = {contactFinder}
                                        onmouseover = {closeModals}
                                        > </lightning-input>
                        
<!-- ===========================================================SEARCH POP=====================================================================================-->
                                   <template if:true={popUpsController.PopUpContactSelector}>
                                       <template if:true={grabContacts.data}>
                                        <lightning-card>
                                            <template for:each={grabContacts.data} for:item="contact">
                                                <p key={contact.Id} class="pSearcher" onclick={cotactPuter}>
                                                    {contact.Name}                                                   

                                                </p>
                                            </template>
                                        </lightning-card>
                                    </template>
                                </template>

                                <template if:true={popUpsController.wrongContact}>
                                    <p>There is no Registration with such Contact</p>
                                    <lightning-button variant="brand" label="Ok" title="Ok" class="slds-m-left_x-small" onclick={closeModals} data-name="wrongContact"></lightning-button> 
                                </template>
                                
<!-- ===========================================================SEARCH POP=================================================================================================-->
                       <lightning-input type="date" name="inputArrivDate" lable="Arrival Date" value={arivalDate}></lightning-input>
                    </lightning-layout-item>

               

                <lightning-layout-item padding="around-small">
                    <div class="custom-box"><abbr title="required" class="slds-required">*</abbr>Number of Mathes Paid For</div>
                    <div class="custom-box">Number Of Matches Scheduled</div>
                    <div class="custom-box">Number of Matches Remaining</div>
                </lightning-layout-item>

                <lightning-layout-item padding="around-small">
                    <lightning-input name="iputNumMatchPaidFor" lable="Number of Mathes Paid For" value={NumberOfMatchesPaidFor}></lightning-input>
                    <lightning-input readonly lable="Number Of Matches Scheduled" name="numMatchSched" value={NumberOfMatchesScheduled}></lightning-input>
                    <lightning-input readonly lable="Number of Matches Remaining" name="numMatchRem" value={NumberOfMatchesRemaining}></lightning-input>
                </lightning-layout-item>
            
            </lightning-layout>
        </div>
    </div>
<!-- =============================================================== FIRST MODAL  =============================================================== -->
    <template if:true={popUpsController.bShowModal}>
        <div class="main-div-container">
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                <!-- modal header start -->
                    <header class="slds-modal__header">
                            <!-- <lightning-button-icon size="medium" icon-name="utility:search" variant="bare" class="searchContactButton"></lightning-button-icon> -->
                        <lightning-button-icon  size="large"
                                                icon-name="utility:close" 
                                                variant="bare-inverse"
                                                class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                                                title="Close"
                                                onclick={closeModals}
                                                data-name="bShowModal"></lightning-button-icon>
                           
                           
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Form to create a new registration</h2>
                    </header>
                       <!-- modal body start -->
                       <div class="c-containerB">
                            <lightning-layout horizontal-align="spread">
                                <lightning-layout-item padding="around-small">
                                    <div class="custom-box"><abbr title="required" class="slds-required">*</abbr>Registration Name</div>
                                    <div class="custom-box"><abbr title="required" class="slds-required">*</abbr>Contact</div>
                                </lightning-layout-item>
                
                               <lightning-layout-item padding="around-small">
                                    <lightning-input name="inpunRegName" lable="Registration Name"></lightning-input>

<!-- ==========================================================================================work now======================================================= -->
                                    <!-- <lightning-input name="inpetContact" lable="Contact"></lightning-input> -->
                                    
                                    
                                    <lightning-input class="slds-m-bottom_small" data-name="contactSearchPop"
                                    value = {chosenContact}
                                    onclick = {openModals}
                                    onchange = {contactFinder}
                                    onmouseover = {closeModals}
                                    > </lightning-input>

                                    <template if:true={popUpsController.contactSearchPop}>
                                            <template if:true={grabContacts.data}>
                                             <lightning-card>
                                                 <template for:each={grabContacts.data} for:item="contact">
                                                     <p key={contact.Id} class="pSearcher" onclick={cotactPuterB}>
                                                         {contact.Name}                                                   
     
                                                     </p>
                                                 </template>
                                             </lightning-card>
                                         </template>
                                     </template>

<!-- ==========================================================================================work now======================================================= -->
                                </lightning-layout-item>
                
                               <lightning-layout-item padding="around-small">
                                    <div class="custom-box"><abbr title="required" class="slds-required">*</abbr>Arrival Date</div>
                                    <div class="custom-box"><abbr title="required" class="slds-required">*</abbr>Number of Mathes Paid For</div>
                                </lightning-layout-item>
                
                                <lightning-layout-item padding="around-small">
                                    <lightning-input type="date" name="inputArrivDate" lable="Arrival Date"></lightning-input>
                                    <lightning-input name="iputNumMatchPaidFor" lable="Number of Mathes Paid For"></lightning-input>
                                </lightning-layout-item>
                            
                            </lightning-layout>
                        </div>
                       <!-- modal footer start-->
                       <footer class="slds-modal__footer">
                            
                            <lightning-button variant="brand" label="Save" title="Save" class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="destructive" label="Cancel" title="Cancel"  class="slds-m-left_x-small" onclick={closeModals} data-name="bShowModal"></lightning-button>
                       </footer>
                    </div>
            </section>
        <div class="slds-backdrop slds-backdrop_open">543</div>
        </div>
    </template>



</template>








































<!-- =============================================================== second modal =============================================================== -->


 <!-- <lightning-layout-item>
                    <lightning-button-icon size="medium" icon-name="utility:search" variant="bare" class="searchContactButton"></lightning-button-icon> 
                </lightning-layout-item> -->



<!-- <lightning-layout-item class="searchContactButtonLayoutItem">
                        <lightning-button variant="brand" lable="test" title="test" onclick={openModals} data-name="showContactModal" class="slds-m-left_x-small"></lightning-button>
                </lightning-layout-item> -->
<!-- 
    <template if:true={popUpsController.showContactModal}>
        <div class="main-div-container">
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                             modal header start 
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModals} data-name="showContactModal">
                            <lightning-icon icon-name="utility:close"
                            alternative-text="close"
                            variant="inverse"
                             size="small" ></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">Modal Header with LWC</h2>
                    </header>
                                    modal body start 
                            <div class="c-containerB">
                                <lightning-datatable hide-checkbox-column="true" 
                                    key-field="Id"
                                    data={contacts.data}
                                    columns={columns}>
                                </lightning-datatable>
                                <lightning-layout horizontal-align="spread">
                                        <lightning-layout-item padding="around-small" id="contactListContainer">
                                            <lightning-button variant="brand" label="View all" title="View all" onclick={openModals} data-name="showContactModalAll" class="slds-m-left_x-small"></lightning-button>
                                        </lightning-layout-item>
                                </lightning-layout>
                            </div>
                                    modal footer start
                        <footer class="slds-modal__footer">
                                        
                            <lightning-button variant="brand" label="Save" title="Save" class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="destructive" label="Cancel" title="Cancel"  class="slds-m-left_x-small" onclick={closeModals} data-name="showContactModal"></lightning-button>
                        </footer>
                    </div>
                </section>
            <div class="slds-backdrop slds-backdrop_open">543</div>
        </div>

</template> -->

<!-- 
=============================================================== Third modal =============================================================== 

<template if:true={popUpsController.showContactModalAll}>
        <div class="main-div-container">
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                             modal header start 
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModals} data-name="showContactModalAll">
                            <lightning-icon icon-name="utility:close"
                            alternative-text="close"
                            variant="inverse"
                             size="small" ></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <lightning-layout horizontal-align="spread">
                                <lightning-layout-item>
                                        <div class="custom-box">Contact search</div>
                                </lightning-layout-item>
                                <lightning-layout-item padding="around-small">
                                        <lightning-input type="search" onchange={handleKeyChange} class="slds-m-bottom_small" label="Search"></lightning-input>
                                </lightning-layout-item>
                            </lightning-layout>
                    </header>
                                   modal body start 
                            <div class="c-containerB">
                                <lightning-datatable  hide-checkbox-column="true" 
                                    key-field="Id"    
                                    data={contactsSearcher.data}
                                    columns={columns}>
                                </lightning-datatable>
                            </div>
                                    modal footer start
                        <footer class="slds-modal__footer">
                            <lightning-button variant="destructive" label="Cancel" title="Cancel"  class="slds-m-left_x-small" onclick={closeModals} data-name="showContactModalAll"></lightning-button>
                        </footer>
                    </div>
                </section>
            <div class="slds-backdrop slds-backdrop_open">543</div>
        </div>
        
</template> -->

<!-- <template if:true={popUpsController.wrongContact}>
    <lightning-button-icon  size="large"
    icon-name="utility:close" 
    variant="bare-inverse"
    class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
    title="Close"
    onclick={closeModals}
    data-name="wrongContact"></lightning-button-icon>

        <p>There is no Registration with such Contact!!!!!!!!!!!!!!!!!!!</p>
</template> -->
    
































<!--

 <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right">
                            <lightning-button-icon size="medium" icon-name="utility:search" class="front slds-input__icon slds-input__icon_right" variant="bare"></lightning-button-icon>
                            <lightning-input lightning-input name="inpunContact" lable="Registration Contact" class="slds-icon_container slds-icon-utility-announcement"></lightning-input>
                    </div>


 <div>
                        
                            
                        </template>
                    </div>


 
                                    <template for:each={contactsSearcher.data} for:item="contact">
                                            
                                            <p key={contact.Id}>{contact.Name}</p>
                                    </template>
                                    key-field="Id"
                                  

<lightning-datatable hide-checkbox-column="true" style="width: 10px"  
                                    key-field="Id"
                                    data={contactsSearcherForMaintInput.data}
                                    columns={columns}
                                    onclick={handleKeyChangeC}
                                    >
                                </lightning-datatable>





-->